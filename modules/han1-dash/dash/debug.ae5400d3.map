{"version":3,"sources":["../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/@babel/runtime/helpers/slicedToArray.js","js/debug.js"],"names":["dbgConn","io","connect","dbgHexTbl","document","all","debugHexTable","obisTable","waitig","frozen","waitscreen","loadingScreen","text","animation","window","createFreezeButton","on","frmSrv","hexified","obis","date","raw","rest","isActive","disable","ctrl","frameSize","generateObisTable","manufacturer","addEvListenersToTables","console","log","Array","from","tBodies","rows","map","row","addEventListener","classList","toggle","bStart","bEnd","obStart","obEnd","rowl","cells","length","hexTable","bytes","nOBytes","parseInt","innerText","querySelector","i","children","byte","mfact","listNr","obisVals","tableHeader","tHead","tableBody","nr","obisRows","str","type","dStart","dEnd","obisArray","split","ob","a","b","c","d","e","f","match","concat","push","findObisName","findUnitType","join","innerHTML","size","meterDate","Date","meter","serverDate","server","rL","filter","Boolean","no","obS","dS","octrlS","dctrlS","webified","trim","t","idx","packLength","toLocaleDateString","toLocaleTimeString","freezeButton","createElement","add","id","onclick","dataset","body","insertAdjacentElement"],"mappings":"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","file":"debug.ae5400d3.map","sourceRoot":"../../../src","sourcesContent":["function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","import loadingScreen from './modules/loadingScreen';\n\nconst dbgConn = io.connect('/debug')\n\nconst dbgHexTbl = document.all.debugHexTable;\n\nconst obisTable = document.all.obisTable;\n\nlet waitig = true;\nlet frozen = false;\n\nlet waitscreen = new loadingScreen({\n  text: 'Waiting for data!',\n  animation: 'scroller'\n});\n\nwindow.waitscreen = waitscreen;\n\ncreateFreezeButton();\n\n\n\ndbgConn.on('dbgData', (frmSrv) => {\n  const {\n    hexified,\n    obis,\n    date,\n    raw,\n    ...rest\n  } = frmSrv;\n\n  if (waitscreen.isActive) {\n    waitscreen.disable();\n  }\n\n  if (!frozen) {\n    debugHexTable(date, hexified, obis, raw.ctrl.frameSize);\n    generateObisTable(raw.manufacturer, null, obis);\n    addEvListenersToTables();\n    console.log(frmSrv);\n  } else {\n    console.log('The data stream is frozen!')\n  }\n\n\n\n})\n\nfunction addEvListenersToTables() {\n  Array.from(obisTable.tBodies[0].rows).map(row => {\n    row.addEventListener('click', function () {\n      this.classList.toggle('selected')\n\n      let bStart, bEnd, obStart, obEnd, rowl = row.cells.length,\n        hexTable, bytes, nOBytes;\n      bStart = parseInt(row.cells[rowl - 2].innerText)\n      bEnd = parseInt(row.cells[rowl - 1].innerText)\n      obStart = parseInt(row.cells[rowl - 4].innerText)\n      obEnd = parseInt(row.cells[rowl - 3].innerText)\n\n      bytes = (bEnd - bStart) + (obEnd - obStart) + 2;\n      obStart = obStart - 2;\n\n      hexTable = document.querySelector('.dbgHexTblContent')\n\n      for (let i = 0; i < hexTable.children.length; i++) {\n        let byte = hexTable.children[i];\n        if (obStart > i || i > (obStart + bytes - 1)) {\n          byte.classList.toggle('dl');\n        }\n      }\n    })\n  });\n}\n\nfunction generateObisTable(mfact, listNr, obisVals) {\n  const tableHeader = document.all.obisTable.tHead;\n  tableHeader.rows[2].cells[0].innerText = listNr;\n  const tableBody = document.all.obisTable.tBodies[0];\n\n  let nr = 1;\n  const obisRows = obisVals.map(obis => {\n    let [str, type, obStart, obEnd, dStart, dEnd] = obis\n    let obisArray = str.split(/-|:|\\./gi).map(ob => {\n      return parseInt(ob);\n    });\n    let [a, b, c, d, e, f] = obisArray\n\n    if (mfact === 'kamstrup') {\n      if (type.match(/^(int)(\\d)(bytes)/gi)) {\n        type = 'u'.concat(type);\n      }\n    }\n\n    obisArray.push(str)\n\n    let row = [`<tr>`,\n      `<td class=\"obisListIdNr\">${nr++}</td>`,\n      `<td class=\"obisGroup obisGroup__A\">${a}</td>`,\n      `<td class=\"obisGroup obisGroup__B\">${b}</td>`,\n      `<td class=\"obisGroup obisGroup__C\">${c}</td>`,\n      `<td class=\"obisGroup obisGroup__D\">${d}</td>`,\n      `<td class=\"obisGroup obisGroup__E\">${e}</td>`,\n      `<td class=\"obisGroup obisGroup__F\">${f}</td>`,\n      `<td class=\"obis__name\">${findObisName(obisArray, mfact)}</td>`,\n      `<td class=\"obis__unit\">${findUnitType(obisArray, mfact)}</td>`,\n      `<td class=\"obis__dataType\">${type}</td>`,\n      `<td class=\"obis__obis_byteStart\">${obStart}</td>`,\n      `<td class=\"obis__obis_byteEnd\">${obEnd}</td>`,\n      `<td class=\"obis__value_byteStart\">${dStart}</td>`,\n      `<td class=\"obis__value_byteEnd\">${dEnd}</td>`,\n      `</tr>`\n    ]\n    return row.join('');\n  }).join('')\n\n  tableBody.innerHTML = obisRows;\n}\n\n\nfunction debugHexTable(date, hexified, obisVals, size) {\n  let meterDate = new Date(date.meter);\n  let serverDate = new Date(date.server);\n\n  let rL = hexified.split('\\n').filter(Boolean).length\n  let no = -1;\n  let obS, dS, octrlS, dctrlS;\n  const webified = hexified\n    .split('\\n')\n    .filter(Boolean)\n    .map(row => row.trim())\n    .map((row) => {\n      let bytes = row.split(' ').map((byte) => {\n        no++\n        let t = '';\n        obisVals.map((obis, idx) => {\n          let [str, type, obStart, obEnd, dStart, dEnd] = obis\n          if (no === parseInt(obStart) - 2) {\n            octrlS = true;\n          }\n          if (no === parseInt(obStart)) {\n            octrlS = false;\n            obS = true\n          }\n          if (no - 1 === parseInt(obEnd)) {\n            obS = false;\n          }\n          if (no === parseInt(dStart)) {\n            dctrlS = true;\n          }\n          if (no === parseInt(dStart) + 1) {\n            dctrlS = false;\n            dS = true\n          }\n          if (no === parseInt(dEnd) - 1) {\n            dS = false;\n          }\n        });\n\n        if (octrlS) {\n          t = 'obisCtrl'\n        }\n        if (obS) {\n          t = 'obis';\n        }\n        if (dctrlS) {\n          if (t != 'obisCtrl') {\n            t = 'dataCtrl'\n          }\n        }\n        if (dS) {\n          t = 'data';\n        }\n\n        if (no === 0 || no === (size + 1)) {\n          t = 'fsef'\n        }\n\n        if (no === (size) || no === (size - 1)) {\n          t = 'fcs'\n        }\n\n        if (no === 1) {\n          t = 'frameFormat'\n        }\n\n        if (no === 2) {\n          t = 'frameSize'\n        }\n\n        if (no === 3) {\n          t = 'destAddr'\n        }\n\n        if (no === 4) {\n          t = 'srcAddr'\n        }\n\n        if (no === 5) {\n          t = 'ctrlField'\n        }\n\n        if (no === 6 || no === 7) {\n          t = 'hcs'\n        }\n\n        if (no === (size - 2)) {\n          t = 'data';\n        }\n\n\n        return `<p class=\"byte${t ? ' ' + t : ''}\" data-byteNr=\"${no}\" data-type=\"${t}\">${byte}</p>`\n      }).join(' ')\n      return bytes;\n    }).join('\\n')\n\n  let packLength = no + 1;\n\n  dbgHexTbl.querySelector('.dbgHexTblDateTime').innerText = `${meterDate.toLocaleDateString()} ${meterDate.toLocaleTimeString()}`;\n  dbgHexTbl.querySelector('.dbgHexTblAddInfo').innerText = `Length: ${packLength}`;\n  dbgHexTbl.querySelector('.dbgHexTblContent').innerHTML = webified;\n}\n\n\nfunction findObisName(obis, mfact) {\n  const [a, b, c, d, e, f, str] = obis;\n  if (str === '1-1:0.2.129.255') {\n    return 'Obis List Version Identifier'\n  }\n  if (str === '1-1:0.0.5.255' || str === '0-0:96.1.0.255') {\n    return 'Meter ID (GIAI GS1 16 Digit)'\n  }\n  if (str === '1-1:96.1.1.255' || str === '0-0:96.1.7.255') {\n    return 'Meter Type'\n  }\n  if (str === '1-1:1.7.0.255' || str === '1-0:1.7.0.255') {\n    return 'Active Power + (Q1+Q4)'\n  }\n  if (str === '1-1:2.7.0.255' || str === '1-0:2.7.0.255') {\n    return 'Active Power - (Q2+Q3)'\n  }\n  if (str === '1-1:3.7.0.255' || str === '1-0:3.7.0.255') {\n    return 'Reactive Power + (Q1+Q2)'\n  }\n  if (str === '1-1:4.7.0.255' || str === '1-0:4.7.0.255') {\n    return 'Reactive Power - (Q3-Q4)'\n  }\n  if (str === '1-1:31.7.0.255' || str === '1-0:31.7.0.255') {\n    return 'IL1 Current Phase L1'\n  }\n  if (str === '1-1:51.7.0.255' || str === '1-0:51.7.0.255') {\n    return 'IL2 Current Phase L2'\n  }\n  if (str === '1-1:71.7.0.255' || str === '1-0:71.7.0.255') {\n    return 'IL3 Current Phase L3'\n  }\n  if (str === '1-1:32.7.0.255' || str === '1-0:32.7.0.255') {\n    return 'ULN1 Phase Voltage 4W meter, Line voltage 3W meter.'\n  }\n  if (str === '1-1:52.7.0.255' || str === '1-0:52.7.0.255') {\n    return 'ULN2 Phase Voltage 4W meter, Line voltage 3W meter.'\n  }\n  if (str === '1-1:72.7.0.255' || str === '1-0:72.7.0.255') {\n    return 'ULN3 Phase Voltage 4W meter, Line voltage 3W meter.'\n  }\n  if (str === '0-1:1.0.0.255' || str === '0-0:1.0.0.255') {\n    return 'Clock and Date in meter'\n  }\n  if (str === '1-1:1.8.0.255' || str === '1-0:1.8.0.255') {\n    return 'Cumulative hourly active import energy (A+)(Q1+Q4)'\n  }\n  if (str === '1-1:2.8.0.255' || str === '1-0:2.8.0.255') {\n    return 'Cumulative hourly active export energy (A-)(Q2+Q3)'\n  }\n  if (str === '1-1:3.8.0.255' || str === '1-0:3.8.0.255') {\n    return 'Cumulative hourly reactive import energy (R+)(Q1+Q2)'\n  }\n  if (str === '1-1:4.8.0.255' || str === '1-0:4.8.0.255') {\n    return 'Cumulative hourly reactive export energy (R-)(Q3+Q4)'\n  }\n}\n\nfunction findUnitType(obis, mfact) {\n  const [a, b, c, d, e, f, str] = obis;\n  if (str === '1-1:0.2.129.255' ||\n    str === '1-1:0.0.5.255' ||\n    str === '1-1:96.1.1.255' ||\n    str === '0-1:1.0.0.255') {\n    return ''\n  }\n  if (str === '1-1:1.7.0.255' || str === '1-1:2.7.0.255') {\n    return 'kW'\n  }\n  if (str === '1-1:3.7.0.255' || str === '1-1:4.7.0.255') {\n    return 'kVAr'\n  }\n  if (str === '1-1:31.7.0.255' ||\n    str === '1-1:51.7.0.255' ||\n    str === '1-1:71.7.0.255') {\n    return 'A'\n  }\n  if (str === '1-1:32.7.0.255' || str === '1-1:52.7.0.255' || str === '1-1:72.7.0.255') {\n    return 'V'\n  }\n  if (str === '1-1:1.8.0.255' || str === '1-1:2.8.0.255') {\n    return 'kWh'\n  }\n  if (str === '1-1:3.8.0.255' || str === '1-1:4.8.0.255') {\n    return 'kVArh'\n  }\n}\n\nfunction createFreezeButton() {\n  const freezeButton = document.createElement('button');\n  freezeButton.classList.add('freezeButton');\n  freezeButton.id = 'freezer';\n  freezeButton.innerText = 'Freeze Data';\n  freezeButton.onclick = function () {\n    frozen = frozen === false ? true : false;\n    this.innerText = frozen === false ? 'Freeze Data' : 'Data is Frozen!';\n    frozen ? this.dataset.frozen = '' : delete this.dataset.frozen;\n  }\n\n  document.body.insertAdjacentElement('afterbegin', freezeButton);\n}\n"]}